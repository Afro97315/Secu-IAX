<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SECUR'IA ‚Äì Agent de S√©curit√© IA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .status {
            @apply px-2 py-1 rounded-full text-xs font-medium;
        }
        .status-ok { @apply bg-green-100 text-green-800; }
        .status-warning { @apply bg-yellow-100 text-yellow-800; }
        .status-danger { @apply bg-red-100 text-red-800; }
        .status-info { @apply bg-blue-100 text-blue-800; }
        .vuln-item {
            @apply p-3 border rounded-lg mb-2 text-sm;
        }
        .vuln-high { @apply border-red-200 bg-red-50; }
        .vuln-medium { @apply border-yellow-200 bg-yellow-50; }
        .vuln-low { @apply border-blue-200 bg-blue-50; }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen font-sans">

    <!-- Header -->
    <header class="glassmorphism shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center text-white font-bold">S</div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">SECUR'IA</h1>
                        <p class="text-sm text-gray-600">Votre gardien de s√©curit√© IA</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm font-medium">Analyse : IA OS</p>
                    <p class="text-xs text-gray-500">Derni√®re v√©rification : 10 avr.</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="container mx-auto px-6 mt-6">
        <div class="flex space-x-1 bg-white/40 rounded-lg p-1">
            <button onclick="showTab('scan')" class="tab-btn active px-4 py-2 rounded-md text-sm font-medium">üîç Scan</button>
            <button onclick="showTab('rgpd')" class="tab-btn px-4 py-2 rounded-md text-sm font-medium">üõ°Ô∏è RGPD / AI Act</button>
            <button onclick="showTab('simulation')" class="tab-btn px-4 py-2 rounded-md text-sm font-medium">üß™ Simulation</button>
            <button onclick="showTab('rapport')" class="tab-btn px-4 py-2 rounded-md text-sm font-medium">üìÑ Rapport</button>
            <button onclick="showTab('chat')" class="tab-btn px-4 py-2 rounded-md text-sm font-medium">ü§ñ Assistant</button>
        </div>
    </nav>

    <!-- Main -->
    <main class="container mx-auto px-6 py-6">

        <!-- Scan Tab -->
        <div id="scan-tab" class="slide-in">
            <div class="glassmorphism rounded-xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üîç Scan des D√©pendances</h2>
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b text-left text-gray-600">
                            <th class="pb-2">D√©pendance</th>
                            <th class="pb-2">Version</th>
                            <th class="pb-2">Statut</th>
                            <th class="pb-2">Risque</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y">
                        <tr>
                            <td class="py-3 font-mono">tailwindcss.com</td>
                            <td>3.4.1</td>
                            <td><span class="status status-ok">OK</span></td>
                            <td>Faible</td>
                        </tr>
                        <tr>
                            <td class="py-3 font-mono">cdn.jsdelivr.net/npm/chart.js</td>
                            <td>4.4.0</td>
                            <td><span class="status status-warning">√Ä surveiller</span></td>
                            <td>Moyen</td>
                        </tr>
                        <tr>
                            <td class="py-3 font-mono">unpkg.com/axios</td>
                            <td>1.6.2</td>
                            <td><span class="status status-danger">Obsol√®te</span></td>
                            <td>√âlev√©</td>
                        </tr>
                    </tbody>
                </table>
                <div class="mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                    <p class="text-sm text-yellow-700">üí° <strong>SECUR'IA</strong> : 1 d√©pendance critique d√©tect√©e. Mettez √† jour Axios ou supprimez-la si inutilis√©e.</p>
                </div>
            </div>
        </div>

        <!-- RGPD / AI Act Tab -->
        <div id="rgpd-tab" class="hidden">
            <div class="glassmorphism rounded-xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üõ°Ô∏è Conformit√© RGPD & AI Act</h2>
                <div class="space-y-4">
                    <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-400">
                        <h3 class="font-medium text-green-800">‚úÖ RGPD ‚Äì Consentement</h3>
                        <p class="text-sm text-green-700 mt-1">Aucun cookie non essentiel. Pas de collecte de donn√©es utilisateur.</p>
                    </div>
                    <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-400">
                        <h3 class="font-medium text-green-800">‚úÖ AI Act ‚Äì Transparence</h3>
                        <p class="text-sm text-green-700 mt-1">IA simul√©e. Aucune donn√©e personnelle trait√©e. Mode d√©mo clair.</p>
                    </div>
                    <div class="p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
                        <h3 class="font-medium text-yellow-800">‚ö†Ô∏è AI Act ‚Äì Documentation</h3>
                        <p class="text-sm text-yellow-700 mt-1">Registre des mod√®les non fourni. Recommand√© pour les clients r√©glement√©s.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Simulation Tab -->
        <div id="simulation-tab" class="hidden">
            <div class="glassmorphism rounded-xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üß™ Simulation d‚ÄôAttaque</h2>
                <div class="space-y-4">
                    <div class="vuln-item vuln-high">
                        <h3 class="font-medium text-red-800">üî¥ Injection XSS d√©tect√©e (simul√©e)</h3>
                        <p class="text-sm text-red-700 mt-1">Un champ non sanitiz√© pourrait permettre l‚Äôex√©cution de script.</p>
                        <button class="mt-2 text-xs bg-red-100 hover:bg-red-200 text-red-700 px-2 py-1 rounded transition-colors" onclick="simulateFix()">Appliquer correctif</button>
                    </div>
                    <div class="vuln-item vuln-medium">
                        <h3 class="font-medium text-yellow-800">üü° CDN non verrouill√©</h3>
                        <p class="text-sm text-yellow-700 mt-1">Les scripts externes ne sont pas int√©gr√©s via SRI (Subresource Integrity).</p>
                        <button class="mt-2 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-2 py-1 rounded transition-colors">Ajouter SRI</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rapport Tab -->
        <div id="rapport-tab" class="hidden">
            <div class="glassmorphism rounded-xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üìÑ Rapport de S√©curit√©</h2>
                <canvas id="securityChart" width="400" height="200"></canvas>
                <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="text-center p-4 bg-green-50 rounded-lg">
                        <div class="text-2xl font-bold text-green-600">87%</div>
                        <div class="text-sm text-green-800">S√©curit√© globale</div>
                    </div>
                    <div class="text-center p-4 bg-yellow-50 rounded-lg">
                        <div class="text-2xl font-bold text-yellow-600">2</div>
                        <div class="text-sm text-yellow-800">Correctifs recommand√©s</div>
                    </div>
                    <div class="text-center p-4 bg-blue-50 rounded-lg">
                        <div class="text-2xl font-bold text-blue-600">100%</div>
                        <div class="text-sm text-blue-800">Conformit√© RGPD</div>
                    </div>
                </div>
                <div class="mt-6">
                    <button onclick="exportReport()" class="w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-colors">
                        üìÑ Exporter le Rapport PDF
                    </button>
                </div>
            </div>
        </div>

        <!-- Chat Tab -->
        <div id="chat-tab" class="hidden">
            <div class="glassmorphism rounded-xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">ü§ñ SECUR'IA ‚Äì Assistant S√©curit√©</h2>
                <div id="chat-messages" class="h-80 overflow-y-auto bg-gray-50 rounded-lg p-4 mb-4 space-y-3">
                    <div class="flex items-start space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white text-sm">S</div>
                        <div class="bg-white rounded-lg p-3 max-w-xs">
                            <p class="text-sm">Bonjour, je suis SECUR'IA, votre agent de s√©curit√© IA. Je surveille l‚Äô√©cosyst√®me IA OS et propose des correctifs proactifs.</p>
                        </div>
                    </div>
                </div>
                <div class="flex space-x-2">
                    <input type="text" id="chat-input" placeholder="Posez votre question sur la s√©curit√©..." class="flex-1 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                    <button onclick="sendChatMessage()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition-colors">
                        Envoyer
                    </button>
                </div>
                <div class="mt-4 flex flex-wrap gap-2">
                    <button onclick="quickQuestion('Comment durcir IA OS ?')" class="text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded-full transition-colors">Comment durcir IA OS ?</button>
                    <button onclick="quickQuestion('Quel est le risque XSS ?')" class="text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded-full transition-colors">Quel est le risque XSS ?</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Script -->
    <script>
        // Tabs
        function showTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(tab)) {
                    btn.classList.add('active');
                }
            });
            document.querySelectorAll('[id$="-tab"]').forEach(el => el.classList.add('hidden'));
            document.getElementById(tab + '-tab').classList.remove('hidden');
            if (tab === 'rapport') initChart();
        }

        // Chat
        function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if (!msg) return;
            addChatMessage(msg, 'user');
            input.value = '';
            setTimeout(() => {
                const responses = [
                    "Pour durcir IA OS : supprimez les d√©pendances inutiles, ajoutez SRI aux CDN, et documentez le registre des mod√®les.",
                    "Le risque XSS est √©lev√© si des champs acceptent du HTML non sanitiz√©. Toujours √©chapper les entr√©es utilisateurs.",
                    "Aucun risque de fuite de donn√©es ici ‚Äî pas de collecte utilisateur. Parfait pour le RGPD.",
                    "Je recommande d'exporter le rapport mensuellement pour les audits."
                ];
                addChatMessage(responses[Math.floor(Math.random() * responses.length)], 'ia');
            }, 800);
        }

        function quickQuestion(question) {
            document.getElementById('chat-input').value = question;
            sendChatMessage();
        }

        function addChatMessage(text, sender) {
            const container = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = 'flex items-start space-x-2';
            div.innerHTML = `
                <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${sender === 'user' ? 'bg-gray-500' : 'bg-gradient-to-br from-green-500 to-emerald-600'}">${sender === 'user' ? 'üë§' : 'S'}</div>
                <div class="bg-${sender === 'user' ? 'gray-200' : 'white'} rounded-lg p-3 max-w-xs">
                    <p class="text-sm">${text}</p>
                </div>
            `;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        // Simulation de correctif
        function simulateFix() {
            alert("Correctif appliqu√© : champ d'entr√©e sanitiz√© contre XSS.");
            document.querySelector('.vuln-high h3').textContent = "‚úÖ Injection XSS corrig√©e";
            document.querySelector('.vuln-high').classList.remove('vuln-high');
            document.querySelector('.vuln-high').classList.add('vuln-item', 'vuln-low');
        }

        // Export PDF (simul√©)
        function exportReport() {
            alert("Rapport de s√©curit√© export√© en PDF. Pr√™t √† √™tre envoy√© √† l'√©quipe compliance.");
        }

        // Chart
        function initChart() {
            const ctx = document.getElementById('securityChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['S√©curit√©', 'Conformit√©', 'D√©pendances', 'R√©silience'],
                    datasets: [{
                        label: 'Score (%)',
                         [87, 92, 76, 85],
                        backgroundColor: 'rgba(16, 185, 129, 0.8)'
                    }]
                },
                options: { responsive: true, scales: { y: { min: 0, max: 100 } } }
            });
        }

        // Init
        showTab('scan');
    </script>
</body>
</html>
